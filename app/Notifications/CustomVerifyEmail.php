<?php

namespace App\Notifications;

use Illuminate\Auth\Notifications\VerifyEmail;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Support\Carbon;
use Illuminate\Support\Facades\Config;
use Illuminate\Support\Facades\URL;

class CustomVerifyEmail extends VerifyEmail
{
    /**
     * Build the mail representation of the notification.
     */
    public function toMail($notifiable): MailMessage
    {
        $verificationUrl = $this->verificationUrl($notifiable);

        return (new MailMessage)
            ->subject('ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø§Ø¨Ùƒ ÙÙŠ Ù…Ù†ØµØ© Ø¬ÙØ°ÙˆØ± - Ø®Ø·ÙˆØ© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·! ðŸš€')
            ->greeting('Ù…Ø±Ø­Ø¨Ø§Ù‹ ' . $notifiable->name . '! ðŸ‘‹')
            ->line('**Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ù†Ø¶Ù…Ø§Ù…Ùƒ Ø¥Ù„Ù‰ Ù…Ù†ØµØ© Ø¬ÙØ°ÙˆØ±** - Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ø±Ø§Ø¦Ø¯Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©!')
            ->line('ðŸŽ‰ **Ø£Ù†Øª Ø¹Ù„Ù‰ Ø¨ÙØ¹Ø¯ Ø®Ø·ÙˆØ© ÙˆØ§Ø­Ø¯Ø© Ù…Ù† Ø¨Ø¯Ø¡ Ø±Ø­Ù„ØªÙƒ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ù…Ù…ÙŠØ²Ø©**')
            ->line('Ù„Ø¥ÙƒÙ…Ø§Ù„ ØªØ³Ø¬ÙŠÙ„Ùƒ ÙˆØ§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù…ÙŠØ¹ Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØµØ©ØŒ ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡:')
            ->action('âœ¨ ØªÙØ¹ÙŠÙ„ Ø­Ø³Ø§Ø¨ÙŠ Ø§Ù„Ø¢Ù†', $verificationUrl)
            ->line('---')
            ->line('**ðŸŒŸ Ù…Ø§ ÙŠÙ†ØªØ¸Ø±Ùƒ ÙÙŠ Ù…Ù†ØµØ© Ø¬ÙØ°ÙˆØ±:**')
            ->line('ðŸ¤– **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø°ÙƒÙŠØ©** Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø¯Ø« ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ')
            ->line('ðŸ“Š **ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ù„Ù†ØªØ§Ø¦Ø¬** ÙˆÙÙ‚Ø§Ù‹ Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¬ÙØ°ÙˆØ± Ø§Ù„Ø£Ø±Ø¨Ø¹Ø© Ø§Ù„ÙØ±ÙŠØ¯')
            ->line('ðŸŒ **ÙˆØ§Ø¬Ù‡Ø© Ø³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…** Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¨')
            ->line('ðŸ“± **Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ù…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù†** Ø¹Ø¨Ø± Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ Ø§Ù„Ø­Ø§Ø³ÙˆØ¨')
            ->line('ðŸŽ¯ **Ù†ØªØ§Ø¦Ø¬ ÙÙˆØ±ÙŠØ© ÙˆÙ…ÙØµÙ„Ø©** ØªØ³Ø§Ø¹Ø¯ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©')
            ->line('---')
            ->line('**âš ï¸ Ù…Ù‡Ù…:** Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ØµØ§Ù„Ø­ Ù„Ù…Ø¯Ø© **60 Ø¯Ù‚ÙŠÙ‚Ø© ÙÙ‚Ø·** Ù…Ù† ÙˆÙ‚Øª Ø¥Ø±Ø³Ø§Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©.')
            ->line('Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø£ÙŠ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ§Ù„ÙŠ ÙˆÙ„ØµÙ‚Ù‡ ÙÙŠ Ù…ØªØµÙØ­Ùƒ:')
            ->line('`' . $verificationUrl . '`')
            ->line('---')
            ->line('Ø¥Ø°Ø§ Ù„Ù… ØªÙ‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ ÙÙŠ Ù…Ù†ØµØ© Ø¬ÙØ°ÙˆØ±ØŒ ÙŠØ±Ø¬Ù‰ **ØªØ¬Ø§Ù‡Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©** ØªÙ…Ø§Ù…Ø§Ù‹.')
            ->line('**ðŸ¤ Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø©ØŸ** ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: support@iseraj.com')
            ->salutation("**Ù…Ø¹ Ø£Ø·ÙŠØ¨ Ø§Ù„ØªØ­ÙŠØ§ØªØŒ**\n**ÙØ±ÙŠÙ‚ Ù…Ù†ØµØ© Ø¬ÙØ°ÙˆØ±** ðŸŒ±\n*Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ ÙÙŠ Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„*");
    }

    /**
     * Get the verification URL for the given notifiable.
     */
    protected function verificationUrl($notifiable): string
    {
        return URL::temporarySignedRoute(
            'verification.verify',
            Carbon::now()->addMinutes(Config::get('auth.verification.expire', 60)),
            [
                'id' => $notifiable->getKey(),
                'hash' => sha1($notifiable->getEmailForVerification()),
            ]
        );
    }
}